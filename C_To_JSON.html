<!DOCTYPE html>
<html>
<head>
	<title>javascript</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script type="text/javascript" src="../jquery.jcryption.3.1.0.js"></script>

	<meta charset="utf-8"/>
                
</head>
<body>

	<div class = "container">

<!-- 	<form name="user" method="POST" action=http://cs.mcgill.ca/~jluo15/Browser-C-IDE/back.php >
 -->	
		Message: <input type = "text" id="bitch"  name = "text" />

		<!-- <input type = "submit" onclick="encrypt()"/> -->
		<button onclick="sendServer()">Click me</button>
<!-- 	</form> 
 -->
	</div>

	<script>	

		var sendServer = function( ){

			$.ajax({
			  type: "POST",
			  url: 'back.php',
			  data: {
			  	code : Tommyparse('#include<stdio.h> \nint main(){printf("Hello World not"); return 0;}')
			  },
			  crossDomain: true, 
			  dataType: "json",
			  success: function(data)
			    {
			        console.log(data);
			        //console.log('success');
			    },
			    error: function (responseData, textStatus, errorThrown)
			    {
			        console.log('error');
			        alert("this is the response data: " + responseData + " also error: " + errorThrown);
			    }
			});	

		};


     	function testParse( ){
     		var bitch = '#include<stdio.h> int main(){printf("Hello World bitch"); return 0;}';
     		alert(Tommyparse(bitch));
     	}

     	function Tommyparse( string ){
     		var parsedCode =""; 
     		var slash = '\\';
     		var newLine = '\n';
     		for(var i=0; i<string.length ; i++){
     			if(string[i] == '>'){
     				parsedCode += string[i];
     				parsedCode += newLine; 
     				i++;
     			}
     			// if( string[i] == '"'){
     			// 	parsedCode += slash;	
     			// } 
     			parsedCode += string[i];
     		}
     		//console.log(parsedCode);
     		return parsedCode;
     	}


	</script> 


</body>
</html>
